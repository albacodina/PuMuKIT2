{% set active = false %}
{% if app.session.has('admin/unesco/tag') %}
    {% set active = app.session.get('admin/unesco/tag') %}
{% endif %}

<ul class="list-unstyled">

    {% for tagDefault in defaultTagOptions %}
        <li>
            <a data-href="{{ path('pumukitnewadmin_unesco_list', {'tag' : tagDefault['key']}) }}" class="unescoTags" href="#" title="{{ tagDefault['title'] }}" style="color:rgba(0,0,0,.84); text-decoration:none;">
                <span class="mdi-file-folder"></span> <strong>{{ tagDefault['title'] }} [{{ tagDefault['count'] }}]</strong>
            </a>
        </li>
    {% endfor %}

    {% for parent, tag in tags %}
        <li data-toggle="collapse" data-parent="#accordion" href="#collapse_{{ loop.index }}" aria-expanded="true" aria-controls="collapse_{{ loop.index }}" style="cursor:pointer">
            <span class="mdi-action-list"></span>
             <strong>{{ parent }}</strong>
        </li>
        <ul id="collapse_{{ loop.index }}" class="collapse in" style="padding-left:20px;">
            {% for children in tag %}
                <li style="list-style-type: none;">
                    <a class="unescoTags" href="#" data-href="{{ path('pumukitnewadmin_unesco_list', {'tag' : children.getCod() }) }}" title="{{ children.getTitle(app.request.getLocale()) }}">
                        <span class="mdi-file-folder"></span> <strong>{{ children.getTitle(app.request.getLocale()) }} [{{ children.getNumberMultimediaObjects() }}]</strong>
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% endfor %}
</ul>

<script type="text/javascript">
    $('.unescoTags').on('click', function(event) {
        event.preventDefault();
        $('#list_mms').load($(this).data('href'));
    });
</script>